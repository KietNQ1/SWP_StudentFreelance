@model StudentFreelance.ViewModels.PaginationViewModel

@{
    int totalPages = Model.TotalPages;
    int currentPage = Model.CurrentPage;
    int totalRecords = Model.TotalRecords;
    string actionName = Model.ActionName;
    string controllerName = Model.ControllerName;
    Dictionary<string, string> routeValues = Model.RouteValues;
}

@if (totalPages > 1)
{
    <div class="pagination-container">
        <div class="pagination-info">
            Hiển thị @(((currentPage - 1) * 10) + 1) đến @(Math.Min(currentPage * 10, totalRecords)) trong tổng số @totalRecords @Model.ItemName
        </div>
        
        <div class="pagination">
            @if (currentPage > 1)
            {
                <a asp-controller="@controllerName" asp-action="@actionName" 
                   asp-all-route-data="@(new Dictionary<string, string>(routeValues) { ["pageNumber"] = "1" })"
                   class="pagination-btn">
                    <i class="fas fa-angle-double-left"></i>
                </a>
                
                <a asp-controller="@controllerName" asp-action="@actionName" 
                   asp-all-route-data="@(new Dictionary<string, string>(routeValues) { ["pageNumber"] = (currentPage - 1).ToString() })"
                   class="pagination-btn">
                    <i class="fas fa-angle-left"></i>
                </a>
            }
            
            @{
                int startPage = Math.Max(1, currentPage - 2);
                int endPage = Math.Min(totalPages, currentPage + 2);
                
                if (startPage > 1)
                {
                    <span class="pagination-ellipsis">...</span>
                }
            }
            
            @for (int i = startPage; i <= endPage; i++)
            {
                <a asp-controller="@controllerName" asp-action="@actionName" 
                   asp-all-route-data="@(new Dictionary<string, string>(routeValues) { ["pageNumber"] = i.ToString() })"
                   class="pagination-btn @(i == currentPage ? "active" : "")">
                    @i
                </a>
            }
            
            @{
                if (endPage < totalPages)
                {
                    <span class="pagination-ellipsis">...</span>
                }
            }
            
            @if (currentPage < totalPages)
            {
                <a asp-controller="@controllerName" asp-action="@actionName" 
                   asp-all-route-data="@(new Dictionary<string, string>(routeValues) { ["pageNumber"] = (currentPage + 1).ToString() })"
                   class="pagination-btn">
                    <i class="fas fa-angle-right"></i>
                </a>
                
                <a asp-controller="@controllerName" asp-action="@actionName" 
                   asp-all-route-data="@(new Dictionary<string, string>(routeValues) { ["pageNumber"] = totalPages.ToString() })"
                   class="pagination-btn">
                    <i class="fas fa-angle-double-right"></i>
                </a>
            }
        </div>
    </div>
} 